import{ja as u,ka as K,la as Y,r as J}from"./chunk-CATFVVEB.js";import{$b as j,Aa as E,Bc as V,Cb as G,Db as M,Ec as l,Fc as k,Gc as R,Gd as g,Ic as Q,Jc as W,Kc as q,Lb as b,Md as Z,Nb as w,Pc as B,Qa as I,Qc as H,Rd as $,Ta as N,Tc as U,Uc as X,Xb as F,Zb as P,ec as m,fc as f,gc as S,hc as O,lb as T,oc as L,p,q as r,qa as x,qb as D,ua as d,za as A}from"./chunk-3RR6OKG3.js";var et=["textEl"],nt=["*"];function it(n,o){if(n&1&&O(0,"nz-icon",1),n&2){let a=l();m("nzType",a.nzIcon)}}function at(n,o){if(n&1){let a=L();f(0,"img",4),V("error",function(z){A(a);let h=l();return E(h.imgError(z))}),S()}if(n&2){let a=l();m("src",a.nzSrc,T),F("srcset",a.nzSrcSet)("alt",a.nzAlt)("loading",a.nzLoading()||"eager")("fetchpriority",a.nzFetchPriority()||"auto")}}function rt(n,o){if(n&1&&(f(0,"span",3,0),U(2),S()),n&2){let a=l();D(2),X(a.nzText)}}var ot="avatar",st=(()=>{let n,o=[],a=[],s,z=[],h=[],_,y=[],C=[];return class v{static{let i=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;n=[u()],s=[u()],_=[u()],p(null,null,n,{kind:"field",name:"nzShape",static:!1,private:!1,access:{has:e=>"nzShape"in e,get:e=>e.nzShape,set:(e,t)=>{e.nzShape=t}},metadata:i},o,a),p(null,null,s,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:e=>"nzSize"in e,get:e=>e.nzSize,set:(e,t)=>{e.nzSize=t}},metadata:i},z,h),p(null,null,_,{kind:"field",name:"nzGap",static:!1,private:!1,access:{has:e=>"nzGap"in e,get:e=>e.nzGap,set:(e,t)=>{e.nzGap=t}},metadata:i},y,C),i&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:i})}_nzModuleName=ot;nzShape=r(this,o,"circle");nzSize=(r(this,a),r(this,z,"default"));nzGap=(r(this,h),r(this,y,4));nzText=r(this,C);nzSrc;nzSrcSet;nzAlt;nzIcon;nzLoading=g();nzFetchPriority=g();nzError=new b;hasText=!1;hasSrc=!0;hasIcon=!1;customSize=null;textEl;el=d(N).nativeElement;cdr=d(Z);constructor(){w(()=>this.calcStringSize())}imgError(i){this.nzError.emit(i),i.defaultPrevented||(this.hasSrc=!1,this.hasIcon=!1,this.hasText=!1,this.nzIcon?this.hasIcon=!0:this.nzText&&(this.hasText=!0),this.cdr.detectChanges(),this.setSizeStyle(),this.calcStringSize())}ngOnChanges(){this.hasText=!this.nzSrc&&!!this.nzText,this.hasIcon=!this.nzSrc&&!!this.nzIcon,this.hasSrc=!!this.nzSrc,this.setSizeStyle(),this.calcStringSize()}calcStringSize(){if(!this.hasText||!this.textEl)return;let i=this.textEl.nativeElement,e=i.offsetWidth,t=this.el.getBoundingClientRect?.().width??0,c=this.nzGap*2<t?this.nzGap*2:8,tt=t-c<e?(t-c)/e:1;i.style.transform=`scale(${tt}) translateX(-50%)`,i.style.lineHeight=this.customSize||""}setSizeStyle(){typeof this.nzSize=="number"?this.customSize=J(this.nzSize):this.customSize=null,this.cdr.markForCheck()}static \u0275fac=function(e){return new(e||v)};static \u0275cmp=G({type:v,selectors:[["nz-avatar"]],viewQuery:function(e,t){if(e&1&&Q(et,5),e&2){let c;W(c=q())&&(t.textEl=c.first)}},hostAttrs:[1,"ant-avatar"],hostVars:20,hostBindings:function(e,t){e&2&&(B("width",t.customSize)("height",t.customSize)("line-height",t.customSize)("font-size",t.hasIcon&&t.customSize?t.nzSize/2:null,"px"),H("ant-avatar-lg",t.nzSize==="large")("ant-avatar-sm",t.nzSize==="small")("ant-avatar-square",t.nzShape==="square")("ant-avatar-circle",t.nzShape==="circle")("ant-avatar-icon",t.nzIcon)("ant-avatar-image",t.hasSrc))},inputs:{nzShape:"nzShape",nzSize:"nzSize",nzGap:[2,"nzGap","nzGap",$],nzText:"nzText",nzSrc:"nzSrc",nzSrcSet:"nzSrcSet",nzAlt:"nzAlt",nzIcon:"nzIcon",nzLoading:[1,"nzLoading"],nzFetchPriority:[1,"nzFetchPriority"]},outputs:{nzError:"nzError"},exportAs:["nzAvatar"],features:[I],ngContentSelectors:nt,decls:4,vars:1,consts:[["textEl",""],[3,"nzType"],[3,"src"],[1,"ant-avatar-string"],[3,"error","src"]],template:function(e,t){e&1&&(k(),P(0,it,1,1,"nz-icon",1)(1,at,1,5,"img",2)(2,rt,3,1,"span",3),R(3)),e&2&&j(t.nzIcon&&t.hasIcon?0:t.nzSrc&&t.hasSrc?1:t.nzText&&t.hasText?2:-1)},dependencies:[Y,K],encapsulation:2,changeDetection:0})}})();var Ct=(()=>{class n{static \u0275fac=function(s){return new(s||n)};static \u0275mod=M({type:n});static \u0275inj=x({imports:[st]})}return n})();export{st as a,Ct as b};
/**i18n:63feba670192799f8d7bdef17e8d193f0425d52a6089ed55065392b1e1b9606a*/
