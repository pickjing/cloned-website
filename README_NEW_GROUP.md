# 新建分组功能说明

## 功能概述

新建分组功能允许用户在设备管理页面中创建新的设备分组，用于对设备进行分类管理。

## 功能特性

### 1. 用户界面
- 点击"新建分组"按钮后，在页面中央弹出模态对话框
- 对话框包含分组名输入字段（必填，带红色星号）
- 两个操作按钮：关闭（关闭对话框）和确定（提交表单）

### 2. 输入验证
- 分组名不能为空
- 用户停止输入500ms后自动检查分组名是否已存在
- 实时显示检查状态："检查中..."
- 如果分组名已存在，显示错误提示
- 如果分组名可用，显示成功图标（绿色对勾）

### 3. 按钮状态
- 输入为空时，确定按钮禁用
- 有错误时，确定按钮禁用
- 检查中时，确定按钮禁用
- 只有输入有效且无错误时，确定按钮才可用

### 4. 数据存储
- 用户点击确定后，分组名保存到后台数据库
- 创建成功后自动关闭对话框
- 刷新设备分组选项列表

## 技术实现

### 前端组件
- `CreateGroupModal.vue` - 新建分组模态对话框组件
- 集成到 `DeviceManagement.vue` 页面中

### 后端API
- `GET /api/groups/check` - 检查分组名是否存在
- `POST /api/groups` - 创建新分组

### 数据库表
- `device_groups` 表存储分组信息
- 包含字段：id, group_name, description, created_at, updated_at

## 使用方法

1. 在设备管理页面点击"新建分组"按钮
2. 在弹出的对话框中输入分组名
3. 系统会自动检查分组名是否可用
4. 确认无误后点击"确定"按钮
5. 分组创建成功后会自动关闭对话框

## 注意事项

- 分组名不能重复
- 分组名不能为空
- 创建成功后需要刷新页面才能在下拉列表中看到新分组
- 建议使用有意义的名称，便于后续管理

## 错误处理

- 网络错误：显示"网络错误，请重试"
- 分组名已存在：显示"分组名已存在"
- 其他错误：显示具体的错误信息

## 开发说明

### 启动服务
1. 后端：`cd backend && npm start`
2. 前端：`cd frontend && npm run dev`

### 数据库配置
确保MySQL服务运行，并创建了相应的数据库和表结构。

### 测试
1. 启动前后端服务
2. 访问设备管理页面
3. 点击"新建分组"按钮测试功能
